<?xml version="1.0" encoding="utf-8"?>
<manifest
	xmlns:android="http://schemas.android.com/apk/res/android"
	package="com.lechucksoftware.proxy.proxysettings"
	android:versionCode="12003136"
	android:versionName="2.13">

	<!-- Scheme for version codes: ##@@$$$ , using:
	    ## - the first two digits for the API Level,
	    @@ - the second and third digits for the minimum and maximum screen size (1 - 4 indicating each of the four sizes) or to denote the texture formats
		$$$ - the last three digits for the app version. -->

	<uses-sdk
		android:minSdkVersion="15"
		android:targetSdkVersion="17" />

	 <!--1.5 Cupcake 3 0.1% -->
	 <!--1.6 Donut 4 0.4% -->
	 <!--2.1 Eclair 7 3.4% -->
	 <!--2.2 Froyo 8 12.9% -->
	 <!--2.3 - 2.3.2 Gingerbread 9 0.3% -->
	 <!--2.3.3 - 2.3.7 10 55.5% -->
	 <!--3.1 Honeycomb 12 0.4% -->
	 <!--3.2 13 1.5% -->
	 <!--4.0.3 - 4.0.4 Ice Cream Sandwich 15 23.7% -->
	 <!--4.1 Jelly Bean 16 1.8% -->

	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
	<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
	<uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
	<uses-permission android:name="android.permission.INTERNET" />
	<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
	<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="com.android.vending.BILLING" />

	<application
		android:name="com.lechucksoftware.proxy.proxysettings.ApplicationGlobals"
		android:icon="@drawable/ic_launcher"
		android:label="@string/app_name">

        <activity
            android:name=".ui.activities.WiFiApListActivity"
            android:configChanges="orientation|screenSize"
            android:label="@string/app_name"
            android:launchMode="singleTop">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity
                android:name=".ui.activities.WiFiApDetailActivity"
                android:configChanges="orientation|screenSize"
                android:label="@string/app_name"
                android:launchMode="singleTop">
        </activity>

        <activity
                android:name=".ui.activities.ProxyListActivity"
                android:configChanges="orientation|screenSize"
                android:label="@string/app_name"
                android:launchMode="singleTop">
        </activity>

        <activity
                android:name=".ui.activities.ProxyDetailActivity"
                android:windowSoftInputMode="stateHidden"
                android:configChanges="orientation|screenSize"
                android:label="@string/app_name"
                android:launchMode="singleTop">
        </activity>

        <activity
                android:name=".ui.activities.HelpActivity"
                android:configChanges="orientation|screenSize"
                android:label="@string/app_name"
                android:launchMode="singleTop">
        </activity>

        <activity
			android:name=".ui.activities.help.DisclaimerFragmentActivity">
		</activity>

		<!--<activity-->
			<!--android:name="com.lechucksoftware.proxy.proxysettings.ui.activities.ProxyPreferencesActivity"-->
			<!--android:configChanges="orientation"-->
			<!--android:launchMode="singleTop">-->
			<!--<intent-filter>-->
				<!--<action android:name="com.lechucksoftware.proxy.proxysettings.UPDATE_PROXY" />-->
				<!--<action android:name="com.shouldit.proxy.lib.PROXY_CHECK_STATUS_UPDATE" />-->
			<!--</intent-filter>-->
		<!--</activity>-->

		<activity android:name=".ui.activities.help.HelpFragmentActivity">
		</activity>

        <activity android:name=".test.TestActivity"
                android:exported="false">
        </activity>

		<activity
			android:name=".ui.activities.WebViewWithProxyActivity"
			android:configChanges="orientation">
		</activity>

		<!-- Added activity to handle application uninstall. See the link for more 
			information. -->
		<!-- http://apachejava.blogspot.it/2011/04/install-and-uninstall-android.html -->


		<!-- <activity android:name=".UninstallerActivity" > -->
		<!-- <intent-filter> -->
		<!-- <action android:name="android.intent.action.VIEW" /> -->
		<!-- <action android:name="android.intent.action.DELETE" /> -->


		<!-- <category android:name="com.lechucksoftware.proxy.proxysettings" /> -->
		<!-- <category android:name="android.intent.category.DEFAULT" /> -->
		<!-- <data android:scheme="package" /> -->
		<!-- </intent-filter> -->
		<!-- </activity> -->

		<service android:name=".services.ProxySettingsCheckerService" />
        <service android:name=".services.ProxySyncService" />
        <service android:name=".services.MaintenanceService" />
		<service android:name=".services.DownloadService" />

        <!-- Receiver used to track all the network changes -->
		<receiver
			android:name="com.lechucksoftware.proxy.proxysettings.receivers.ProxyChangeReceiver">
			<intent-filter>			
				<action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
                <action android:name="android.net.wifi.CONFIGURED_NETWORKS_CHANGE" />
				<action android:name="android.intent.action.PROXY_CHANGE" />
				
				<!-- Disable for debug : Too many events! -->
				<action android:name="android.net.wifi.SCAN_RESULTS" />  	
<!-- 				<action android:name="android.net.wifi.supplicant.STATE_CHANGE" />   -->
				
				<action android:name="com.lechucksoftware.proxy.proxysettings.WIFI_AP_UPDATED" />
				<action android:name="com.shouldit.proxy.lib.PROXY_CHECK_STATUS_UPDATE" />
				<action	android:name="com.lechucksoftware.proxy.proxysettings.PROXY_SETTINGS_MANUAL_REFRESH" />
				<action	android:name="com.lechucksoftware.proxy.proxysettings.PROXY_SETTINGS_STARTED" />
				<action	android:name="com.lechucksoftware.proxy.proxysettings.PROXY_REFRESH_UI" />
                <action	android:name="com.lechucksoftware.proxy.proxysettings.PROXY_SAVED" />
			</intent-filter>
		</receiver>

        <!-- Used for Google Play Store Campaign Measurement-->;
        <service android:name="com.google.analytics.tracking.android.CampaignTrackingService" />
        <receiver android:name="com.google.analytics.tracking.android.CampaignTrackingReceiver" android:exported="true" >
            <intent-filter>
                <action android:name="com.android.vending.INSTALL_REFERRER" />
            </intent-filter>
        </receiver>


	</application>

</manifest>